---
import { Image } from "astro:assets"
import type { ImageMetadata } from "astro"

export interface Props {
  trip: string
  alt?: string
}

const { trip, alt } = Astro.props

const src = `/src/content/travel/${trip}/cover.jpg`

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/content/travel/*/cover.jpg"
)
---

{
  images[src] && (
    <style>
      img {
        width: 100%;
        height: 100%;
        margin: 0;
        border-radius: 0.5rem;
        object-fit: cover;
      }
    </style>

    <Image
      width={1020}
      height={510}
      src={images[src]()}
      alt={alt || "A blog cover photo"}
    />
  )
}
